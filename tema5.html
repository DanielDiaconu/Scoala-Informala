<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="game"></div>
  </body>

  <script>
    var userChoice = document.createElement("h4");
    var computerChoice = document.createElement("h4");
    var resultDisplay = document.createElement("h4");
    var game = document.getElementById("game");
    game.append(userChoice, computerChoice, resultDisplay);

    var options = ["rock", "paper", "scissors"];
    var userOption;
    var computerOption;

    var onClick = (e) => {
      userOption = e.target.id;
      userChoice.innerHTML = `User choice: ${userOption}`;
      generateComputerChoice();
      getResult();
    };

    var generateComputerChoice = () => {
      var randomChoice = options[Math.floor(Math.random() * options.length)];
      computerOption = randomChoice;
      computerChoice.innerHTML = `Computer choice: ${randomChoice}`;
    };

    for (var i = 0; i < options.length; i++) {
      var button = document.createElement("button");
      button.id = options[i];
      button.innerHTML = options[i];
      button.addEventListener("click", onClick);
      game.appendChild(button);
    }

    var getResult = () => {
      switch (userOption + computerOption) {
        case "scissorspaper":
        case "rockscissors":
        case "paperrock":
          resultDisplay.innerHTML = "User Won";
          break;
        case "paperscissors":
        case "scissorsrock":
        case "rockpaper":
          resultDisplay.innerHTML = "Computer won";
          break;
        case "paperpaper":
        case "scissorsscissors":
        case "rockrock":
          resultDisplay.innerHTML = "DRAW";
          break;
      }
    };
  </script>
</html>
